<div class="container col-10">

  <!-- Portfolio Item Heading -->
  <h2 class="my-2">{{'APP.TITLE' | translate}}
  </h2>
  <div class="row" class="col-12">

    <ngx-spinner bdColor="#fff" size="large" color="#bf0032" type="ball-clip-rotate-pulse"></ngx-spinner>
    <mat-form-field>
      <input matInput (keyup)="filterByName($event.target.value,'name')" placeholder="Filter">
    </mat-form-field>
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value,'extension')" placeholder="Filter">
    </mat-form-field>
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
    <table class="mat-elevation-z8 table-container" mat-table [dataSource]="dataSource" matSort>




      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th width="50px" mat-header-cell *matHeaderCellDef>
          <mat-checkbox class="table-buttons" (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>


      <!-- Name -->
      <ng-container matColumnDef="name">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header>{{'APP.TABLE.NAME' | translate}}</th>
        <td mat-cell *matCellDef="let element" matTooltip="{{element.name}}" matTooltipPosition="above"> {{
          (element.name.length > 45) ? (element.name | slice:0:45)+'...': (element.name) }} </td>
      </ng-container>

      <!-- ClientSpace Column -->
      <ng-container matColumnDef="clientSpace">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.CLIENTSPACE' | translate}} </th>
        <td mat-cell *matCellDef="let element"> {{element.clientspace.csName}} </td>
      </ng-container>

      <!-- Extension Column -->
      <ng-container matColumnDef="extension">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.EXTENSION' | translate}} </th>
        <td mat-cell *matCellDef="let element"> {{element.extension}} </td>
      </ng-container>

      <!-- Autor Column -->
      <ng-container matColumnDef="autor">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.AUTOR' | translate}} </th>
        <td mat-cell *matCellDef="let element" matTooltip="{{element.autor}}" matTooltipPosition="above"> {{
          (element.autor.length > 45) ? (element.autor | slice:0:45)+'...': (element.autor) }} </td>
      </ng-container>

      <!-- CONTRIBUTION Column -->
      <ng-container matColumnDef="contributionDate">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.CONTRIBUTION' | translate}} </th>
        <td mat-cell *matCellDef="let element"> {{element.contributionDate | date:'d/M/yy, h:mm'}} </td>
      </ng-container>

      <!--TRIES Column -->
      <ng-container matColumnDef="tries">
        <th width="80px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.TRIES' | translate}} </th>
        <td mat-cell *matCellDef="let element"> {{element.tries}} </td>
      </ng-container>

      <!-- lastTry Column -->
      <ng-container matColumnDef="lastTryDate">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.LAST_TRY' | translate}} </th>
        <td mat-cell *matCellDef="let element">{{element.lasttryDate | date:'d/M/yy, h:mm'}}</td>
      </ng-container>

      <!-- TYPE Column -->
      <ng-container matColumnDef="type">
        <th width="150px" mat-header-cell *matHeaderCellDef mat-sort-header> {{'APP.TABLE.TYPE' | translate}} </th>
        <td mat-cell *matCellDef="let element"> {{element.type}} </td>
      </ng-container>



      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
      </tr>


    </table>
    <mat-paginator #paginator [length]="dataSource.data.length" [pageIndex]="0" [pageSize]="15" [pageSizeOptions]="[10,15,20,25, 50, 100, 250]">
    </mat-paginator>
  </div>
</div>
